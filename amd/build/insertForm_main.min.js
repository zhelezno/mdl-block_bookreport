define(["jquery","core/ajax","core/notification","core/templates"],function(e,t,o,n){return{typereport:function(o,a,r,c,l,u){e(document).ready(function(){e("#typereport option[value=default]").prop("selected",!0),element=e("#report"),n.render("block_bookreport/standartreport",{author:o,book:a,mainactors:r,mainidea:c,quotes:l,conclusion:u}).then(function(e,t){n.replaceNodeContents(element,e,t)}),e("#typereport").change(function(){var p=e("#typereport").val();"default"==p?t.call([{methodname:"block_bookreport_changetodefaultreporttype",args:{},done:n.render("block_bookreport/standartreport",{author:o,book:a,mainactors:r,mainidea:c,quotes:l,conclusion:u}).then(function(e,t){n.replaceNodeContents(element,e,t)})}]):"presentation"==p&&t.call([{methodname:"block_bookreport_changetopresentationreporttype",args:{},done:n.render("block_bookreport/presentationreport",{}).then(function(e,t){n.replaceNodeContents(element,e,t)})}])})})},ajax_call_db:function(){function t(){var t=e("#defaulttype_author").val(),o=e("#defaulttype_book").val(),n=e("#defaulttype_mainactors").val(),a=e("#defaulttype_mainidea").val(),r=e("#defaulttype_quotes").val(),c=e("#defaulttype_conclusion").val();e.ajax({url:"ajaxinsert.php",type:"POST",data:{author:t,book:o,mainactors:n,mainidea:a,quotes:r,conclusion:c},dataType:"json",complete:function(t){e("#autosavesuccess").show("slow"),setTimeout(function(){e("#autosavesuccess").hide("slow")},2e3)}})}e("#report").on("input",function(){setTimeout(t,5e3)})}}});