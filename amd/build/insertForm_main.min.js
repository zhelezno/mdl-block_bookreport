define(["jquery","core/ajax","core/notification","core/templates"],function(t,a,e,o){return{ajax_call_db:function(){function a(){t("#autosavesuccess").show("slow"),setTimeout(function(){t("#autosavesuccess").hide("slow")},1e4)}function e(){var a=t("#defaulttype_author").val(),e=t("#defaulttype_book").val(),o=t("#defaulttype_mainactors").val(),l=t("#defaulttype_mainidea").val(),i=t("#defaulttype_quotes").val(),n=t("#defaulttype_conclusion").val();t.ajax({url:"ajaxsendreport.php",type:"POST",data:{author:a,book:e,mainactors:o,mainidea:l,quotes:i,conclusion:n},dataType:"text"})}t("#report").change(function(){setTimeout(e,2e3),setTimeout(a,2e3)}),t("#button_clear").click(function(){t(".report-field").val(""),e()})},ajax_call_booksearch_st:function(){t("#defaulttype_book").keyup(function(){let a=t("#defaulttype_book").val();t.ajax({url:"ajaxsearch.php",type:"POST",data:{booksearch:a},dataType:"html"}).done(function(a){t("#show-list").html(a)}).fail(function(){t("#show-list").html("")})}),t(document).on("click","#searchresult",function(a){let e=a.target.text,o=e.indexOf("-"),l=e.substr(o+1).trim(),i=e.split("-")[0].trim();t("#defaulttype_book").val(l),t("#defaulttype_author").val(i),t("#show-list").html("")})},ajax_call_booksearch_pr:function(){t("#id_book").after('<div class="col-md-12" style="position: relative; margin-top: 0px; margin-left: 0px;"><div class="list-group" id="show-list"></div></div>'),t("#id_book").keyup(function(){let a=t("#id_book").val();t.ajax({url:"ajaxsearch.php",type:"POST",data:{booksearch:a},dataType:"html"}).done(function(a){t("#show-list").html(a)}).fail(function(){t("#show-list").html("")})}),t(document).on("click","#searchresult",function(a){let e=a.target.text,o=e.indexOf("-"),l=e.substr(o+1).trim(),i=e.split("-")[0].trim();t("#id_book").val(l),t("#id_author").val(i),t("#show-list").html("")})}}});