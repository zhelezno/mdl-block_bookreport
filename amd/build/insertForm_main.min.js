define(["jquery","core/ajax","core/notification","core/templates"],function(t,e,a,o){return{typereport:function(){t(document).ready(function(){t("#typereport").change(function(){var e=t("#typereport").val();"default"==e?t(location).attr("href","index.php"):"presentation"==e&&t(location).attr("href","filepickform.php")})})},ajax_call_db:function(){function e(){t("#autosavesuccess").show("slow"),setTimeout(function(){t("#autosavesuccess").hide("slow")},1e4)}function a(){var e=t("#defaulttype_author").val(),a=t("#defaulttype_book").val(),o=t("#defaulttype_mainactors").val(),i=t("#defaulttype_mainidea").val(),l=t("#defaulttype_quotes").val(),n=t("#defaulttype_conclusion").val();t.ajax({url:"ajaxsendreport.php",type:"POST",data:{author:e,book:a,mainactors:o,mainidea:i,quotes:l,conclusion:n},dataType:"text"})}t("#report").change(function(){setTimeout(a,2e3),setTimeout(e,2e3)}),t("#button_clear").click(function(){t(".report-field").val(""),a()})},ajax_call_booksearch_st:function(){t("#defaulttype_book").keyup(function(){let e=t("#defaulttype_book").val();t.ajax({url:"ajaxsearch.php",type:"POST",data:{booksearch:e},dataType:"html"}).done(function(e){t("#show-list").html(e)}).fail(function(){t("#show-list").html("")})}),t(document).on("click","#searchresult",function(e){let a=e.target.text,o=a.indexOf("-"),i=a.substr(o+1).trim(),l=a.split("-")[0].trim();t("#defaulttype_book").val(i),t("#defaulttype_author").val(l),t("#show-list").html("")})},ajax_call_booksearch_pr:function(){t("#id_book").after('<div class="col-md-12" style="position: relative; margin-top: 0px; margin-left: 0px;"><div class="list-group" id="show-list"></div></div>'),t("#id_book").keyup(function(){let e=t("#id_book").val();t.ajax({url:"ajaxsearch.php",type:"POST",data:{booksearch:e},dataType:"html"}).done(function(e){t("#show-list").html(e)}).fail(function(){t("#show-list").html("")})}),t(document).on("click","#searchresult",function(e){let a=e.target.text,o=a.indexOf("-"),i=a.substr(o+1).trim(),l=a.split("-")[0].trim();t("#id_book").val(i),t("#id_author").val(l),t("#show-list").html("")})}}});