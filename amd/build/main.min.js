define(["jquery","block_bookreport/datatables","block_bookreport/pdfmake","block_bookreport/vfs_fonts"],function(e){return{dtInit:function(){function t(t,r){e.ajax({url:"ajaxquery.php",type:"POST",data:{start_date:t,end_date:r},dataType:"json",success:function(t){e("#reporttable").DataTable({data:t,dom:"<'row'<'col-sm-12 col-md-4'l><'col-sm-12 col-md-4'B><'col-sm-12 col-md-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",buttons:["excel","csv","print"],responsive:!0,columns:[{data:"author",render:function(e,t,r,o){return'<a href="../bookreport/userreport.php?id='+r.id+"&userid="+r.user_id+'">'+r.author+"</a>"}},{data:"book",render:function(e,t,r,o){return'<a href="../bookreport/userreport.php?id='+r.id+"&userid="+r.user_id+'">'+r.book+"</a>"}},{data:"fullname",render:function(e,t,r,o){return'<a href="../bookreport/userreport.php?id='+r.id+"&userid="+r.user_id+'">'+r.fullname+"</a>"}},{data:"department"},{data:"timecreated"},{data:"type",render:function(e,t,r,o){return(r.type=1)?'<img style="margin-right: 10px;" width="30px" src="../bookreport/pix/reportpix1.png">':'<img style="margin-right: 10px;" width="30px" src="../bookreport/pix/reportpix2.png">'}}]})}})}t(),e(document).on("click","#filter",function(r){r.preventDefault();var o=e("#start_date").val(),a=e("#end_date").val();""==o||""==a?alert("both date required"):(e("#reporttable").DataTable().destroy(),t(o,a))}),e(document).on("click","#reset",function(r){r.preventDefault(),e("#start_date").val(""),e("#end_date").val(""),e("#reporttable").DataTable().destroy(),t()})}}});