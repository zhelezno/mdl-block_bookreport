define(["jquery","block_bookreport/jszip","block_bookreport/jquery-ui","block_bookreport/buttons.print","block_bookreport/buttons.html5","block_bookreport/buttons.bootstrap4"],function(e,t){return{dtInit:function(o,r){function a(o=!0,r=null,a=null,n=null){console.log(o),console.log(r),console.log(a),console.log(n),e.ajax({url:"ajaxselect.php",type:"POST",data:{start_date:a,end_date:n,userid:r},dataType:"json",success:function(r){console.log(r),window.JSZip=t;var a=e("#reporttable").DataTable({data:r,dom:"<'row'<'col-sm-12 col-md-4'l><'col-sm-12 col-md-4'B><'col-sm-12 col-md-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",buttons:["excelHtml5","copyHtml5","print"],responsive:!0,columns:[{data:"author",render:function(e,t,o,r){return'<a href="../bookreport/viewreport.php?id='+o.id+"&userid="+o.user_id+'">'+o.author+"</a>"}},{data:"book",render:function(e,t,o,r){return'<a href="../bookreport/viewreport.php?id='+o.id+"&userid="+o.user_id+'">'+o.book+"</a>"}},{data:"fullname",render:function(e,t,o,r){return'<a href="../bookreport/viewreport.php?id='+o.id+"&userid="+o.user_id+'">'+o.fullname+"</a>"}},{data:"department"},{data:"timecreated"},{data:"type",render:function(e,t,o,r){return 1==o.type?'<img style="margin-right: 10px;" width="30px" src="../bookreport/style/img/reportpix1.png">':'<img style="margin-right: 10px;" width="30px" src="../bookreport/style/img/reportpix2.png">'}}]});a.column(2).visible(o),a.column(3).visible(o)}})}a(o,r),e(document).on("click","#filter",function(t){t.preventDefault();var n=e("#start_date").val(),l=e("#end_date").val();""==n||""==l?alert("both date required"):(e("#reporttable").DataTable().destroy(),n=new Date(n).getTime()/1e3,l=new Date(l).getTime()/1e3,a(o,r,n,l))}),e(document).on("click","#reset",function(t){t.preventDefault(),e("#start_date").val(""),e("#end_date").val(""),e("#reporttable").DataTable().destroy(),a(o,r)})},dpInit:function(){e("#start_date").datepicker({dateFormat:"yy-mm-dd"}),e("#end_date").datepicker({dateFormat:"yy-mm-dd"})}}});